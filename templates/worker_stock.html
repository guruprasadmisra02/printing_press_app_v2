{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center">
  <h4>Stock</h4>
  <form method="post" class="row g-2 align-items-end">
    <input type="hidden" name="action" value="add_or_update">
    <div class="col-md-2">
      <label class="form-label">Item</label>
      <input name="item_name" class="form-control" required>
    </div>
    <div class="col-md-2">
      <label class="form-label">Item No</label>
      <input name="item_no" class="form-control" placeholder="Optional">
    </div>
    <div class="col-md-2">
      <label class="form-label">Size</label>
      <input name="size" class="form-control" placeholder="e.g. A4 / 30x20">
    </div>
    <div class="col-md-2">
      <label class="form-label">Added Qty</label>
      <input type="number" step="0.01" name="added_quantity" class="form-control" required>
    </div>
    <div class="col-md-2">
      <label class="form-label">Total Cost (â‚¹)</label>
      <input type="number" step="0.01" name="addition_total_cost" class="form-control" required>
    </div>
    <div class="col-md-2">
      <label class="form-label">&nbsp;</label>
      <button class="btn btn-success w-100">Save</button>
    </div>
  </form>
</div>

<div class="table-responsive mt-3">
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Item</th>
        <th>Item No</th>
        <th>Size</th>
        <th>Qty</th>
        <th>Unit Cost</th>
        <th>Total Amount</th>
        <th>Last Updated</th>
      </tr>
    </thead>
    <tbody>
      {% for s in stock %}
      <tr>
        <td>{{ s.item_name }}</td>
        <td>{{ s.item_no }}</td>
        <td>{{ s.size }}</td>
        <td>{{ s.quantity }}</td>
        <td>{{ '%.2f'|format(s.unit_cost) }}</td>
        <td>{{ '%.2f'|format(s.total_amount) }}</td>
        <td>{{ s.last_updated }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}

